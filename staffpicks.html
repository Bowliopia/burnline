<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Staff Picks – Burnline</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- Global header/footer/vars/buttons/newsletter -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Page-specific styles only -->
  <style>
    .gradient-heading{
      font-size: 2.5rem;
      font-family: 'Orbitron', sans-serif;
      background: linear-gradient(90deg, var(--magenta), var(--purple));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      color: transparent;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .content {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 2rem;
    }

    /* ==== Tabs (match Submit page style) ==== */
    .tabs { margin-top: 0.5rem; }
    .tablist {
      display: flex;
      justify-content: center;  /* center the tabs */
      gap: 0.5rem;
      border-bottom: 1px solid var(--border-dark);
      margin-bottom: 1.75rem;
      overflow-x: auto;
      padding-bottom: 0.25rem;
    }
    .tab {
      appearance: none;
      border: 1px solid var(--border-dark);
      background: var(--card);
      color: var(--text);
      font-family: 'Orbitron', sans-serif;
      font-size: 0.95rem;
      letter-spacing: 0.02em;
      padding: 0.6rem 1rem;
      border-radius: 999px;
      cursor: pointer;
      transition: transform 120ms ease, background 150ms ease, border-color 150ms ease;
      white-space: nowrap;
    }
    .tab:hover { transform: translateY(-1px); }
    .tab[aria-selected="true"] {
      background: linear-gradient(90deg, var(--cyan), #1e90ff);
      color: var(--ink-dark);
      border-color: transparent;
    }

    .story-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 2rem;
    }
    .story-card {
      background-color: var(--card);
      border-radius: 10px;
      padding: 1rem;
      display: none; /* hidden until filtered on */
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .story-card:focus-visible{
      outline: 2px solid var(--cyan);
      outline-offset: 4px;
    }
    .story-card:hover{
      transform: translateY(-2px);
      box-shadow: 0 8px 18px rgba(0,0,0,.35);
    }
    .story-card.active { display: block; }
    .story-card img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 0.8rem;
      display: block;
    }
    .story-card h3 {
      color: var(--cyan);
      font-size: 1.1rem;
      margin: 0.25rem 0 0.25rem;
    }
    .story-card small {
      color: #9aa;
      font-size: 0.85rem;
    }

    .card-overlay { display: none !important; }

   /* Stack tabs on narrow screens */
@media (max-width: 520px) {
  .tablist {
    flex-direction: column;      /* stack */
    align-items: stretch;
    justify-content: flex-start; /* override center */
    gap: 0.6rem;
    border-bottom: 0;            /* no underline when vertical */
    padding-bottom: 0;
    overflow-x: visible;
  }
  .tab {
    width: 100%;
    text-align: center;
    border-radius: 12px;         /* softer when full-width */
    padding: 0.7rem 1rem;
    font-size: 1rem;
  }
}

    /* Modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 1rem;
    }
    .modal-backdrop.show { display: flex; }
    .modal {
      background: #171a2a;
      color: var(--text);
      width: min(720px, 100%);
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,.6);
      max-height: 90vh;

      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: auto auto auto 1fr;
      grid-template-areas:
        "media"
        "header"
        "byline"
        "body";
    }
    .modal-media { grid-area: media; position: relative; }
    .modal-media img { width: 100%; height: auto; display: block; }
    .modal-close {
      position: absolute;
      top: 8px; right: 8px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      line-height: 1;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
    }
    .modal-close:hover { background: rgba(0,0,0,0.8); }
    .modal-header{
      grid-area: header;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      padding: 1rem 1.25rem 0.5rem;
    }
    .modal-title{ margin: 0; font-size: 1.25rem; color: var(--cyan); }
    .modal-byline{
      grid-area: byline;
      margin: 0 0 0.5rem 0;
      color: #b7c0d1;
      font-size: 0.9rem;
      padding: 0 1.25rem;
    }
    .modal-body{
      grid-area: body;
      padding: 0 1.25rem 1.25rem;
      overflow: auto;
      line-height: 1.55;
    }
    body.modal-open{ overflow: hidden; }

    .steam-link{ margin-top: 0.75rem; margin-bottom: 0; }
    .steam-link a{
      background: linear-gradient(90deg, var(--cyan), #008cff);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-decoration: none;
      font-weight: bold;
    }
    .steam-link a:hover{ text-decoration: underline; }

    /* Modal variant for books */
    .modal.modal--book{
      width: min(960px, 100%);
      grid-template-columns: 38% 62%;
      grid-template-rows: auto auto 1fr;
      grid-template-areas:
        "media header"
        "media byline"
        "media body";
    }
    .modal.modal--book .modal-media img{
      width: 100%; height: 100%;
      object-fit: contain; background: #111522;
    }
    .modal.modal--book .modal-body{ overflow: auto; }

    @media (min-width: 721px){
      .modal.modal--book { position: relative; }
      .modal.modal--book .modal-media { position: static; }
      .modal.modal--book .modal-close {
        position: absolute; top: 10px; right: 10px; z-index: 2;
      }
    }
    @media (max-width: 720px){
      .modal.modal--book{
        width: min(720px, 100%);
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto 1fr;
        grid-template-areas:
          "media"
          "header"
          "byline"
          "body";
      }
      .modal.modal--book .modal-media {
        position: relative;
        display: flex; align-items: center; justify-content: center;
        padding: 0.5rem 0;
      }
      .modal.modal--book .modal-media img{
        max-width: 90%; max-height: 50vh; width: auto; height: auto;
        object-fit: contain; background: #111522; margin: 0 auto; display: block;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <a href="index.html" class="logo-title">
      <img src="Flame logo-1.png.png" alt="Burnline logo">
      <span>BURNLINE</span>
    </a>

<div class="hamburger" id="hamburger" aria-controls="site-nav" aria-expanded="false" aria-label="Toggle menu">
  <div></div><div></div><div></div>
</div>

    <nav class="site-nav" id="site-nav">
      <a href="fiction.html">Issues</a>
      <a href="stories.html">Stories</a>
      <a href="art.html">Art</a>
      <a href="about.html">About</a>
      <a href="submit.html">Submit</a>
    </nav>
  </header>

  <!-- Main -->
  <section class="content">
    <h1 class="gradient-heading">Staff Picks</h1>

    <!-- Tabs -->
    <div class="tabs">
      <div class="tablist" role="tablist" aria-label="Filter Staff Picks">
        <button class="tab" id="tab-books" role="tab" aria-selected="true" aria-controls="panel-grid" data-filter="books">Books</button>
        <button class="tab" id="tab-games" role="tab" aria-selected="false" aria-controls="panel-grid" data-filter="games">Games</button>
        <button class="tab" id="tab-film"  role="tab" aria-selected="false" aria-controls="panel-grid" data-filter="film">Film / TV</button>
        <button class="tab" id="tab-other" role="tab" aria-selected="false" aria-controls="panel-grid" data-filter="other">Other</button>
      </div>
    </div>

    <!-- Single panel showing grid; filtering switches visible cards -->
    <div id="panel-grid" class="story-grid" role="tabpanel" tabindex="0" aria-labelledby="tab-books">
<!-- Games -->
<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for 1000xRESIST">
  <img src="1000xResist.png" alt="">
  <h3>1000xRESIST</h3>
  <small>Reikon Games</small>
  <div class="card-overlay">
    <div class="overlay-content">
      If you like cyberpunk stuff and you like top-down shooters, it's pretty can't miss. Don't overthink the story; it's guns + gritty setting.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/464060/RUINER/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Citizen Sleeper">
  <img src="CS Keyart.png" alt="">
  <h3>Citizen Sleeper</h3>
  <small>Jump Over the Age / Fellow Traveller</small>
  <div class="card-overlay">
    <div class="overlay-content">
      Cyberpunk on a spacestation with a vibe as good as any. This is one of our all-time favorite pieces of cyberpunk media. The gameplay loop might not be for everyone, but the story and dialogue is as good as it gets.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/1578650/Citizen_Sleeper/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Cloudpunk">
  <img src="Cloudpunk Keyart.jpg" alt="">
  <h3>Cloudpunk</h3>
  <small>ION Lands</small>
  <div class="card-overlay">
    <div class="overlay-content">
      Live out your cyberpunk delivery boy fantasy. Something about pixel art and neon works really, really well, too.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/746850/Cloudpunk/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Cyberpunk 2077">
  <img src="CP2077 Keyart.jpg" alt="">
  <h3>Cyberpunk 2077</h3>
  <small>CD Projekt Red</small>
  <div class="card-overlay">
    <div class="overlay-content">
      We'd love to have a clickier take, but it really is as good as advertised. We'd also imagine you wouldn't be on this website without already having played this game.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/1091500/Cyberpunk_2077/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Far Cry 3: Blood Dragon">
  <img src="FC3 Blood Dragon.jpg" alt="">
  <h3>Far Cry 3: Blood Dragon</h3>
  <small>Ubisoft</small>
  <div class="card-overlay">
    <div class="overlay-content">
      Everyone knows Far Cry 3 was the best Far Cry, and the retro-futuristic '80s action parody dlc matches that speed.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/233270/Far_Cry_3_Blood_Dragon/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Ghostrunner">
  <img src="Ghostrunner Keyart.jpg" alt="">
  <h3>Ghostrunner</h3>
  <small>One More Level</small>
  <div class="card-overlay">
    <div class="overlay-content">
      Like the sword parts of cyberpunk? Play this game.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/1139900/Ghostrunner/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Perfect Dark">
  <img src="Perfect Dark.jpg" alt="">
  <h3>Perfect Dark</h3>
  <small>Rare</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A remake of the legendary N64 shooter that blended futuristic espionage with inventive weapons and cyberpunk style. Joanna Dark remains one of the genre’s most iconic protagonists.
      <p class="steam-link">
        <a href="https://www.xbox.com/en-US/games/store/perfect-dark/C0SWGV4560W1/0001" target="_blank" rel="noopener noreferrer">Check it out here.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Ruiner">
  <img src="Ruiner Keyart.jpg" alt="">
  <h3>Ruiner</h3>
  <small>Reikon Games</small>
  <div class="card-overlay">
    <div class="overlay-content">
      If you like cyberpunk stuff and you like top-down shooters, it's pretty can't miss. Don't overthink the story; it's guns + gritty setting.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/464060/RUINER/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

<div class="story-card" data-category="games" tabindex="0" aria-label="Open details for Transistor">
  <img src="Transistor Keyart.jpg" alt="">
  <h3>Transistor</h3>
  <small>Supergiant Games</small>
  <div class="card-overlay">
    <div class="overlay-content">
      You like Hades? Great news: those folks made a cyberpunk game.
      <p class="steam-link">
        <a href="https://store.steampowered.com/app/237930/Transistor/" target="_blank" rel="noopener noreferrer">Check it out on Steam.</a>
      </p>
    </div>
  </div>
</div>

    <!-- Books -->
<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Altered Carbon">
  <img src="Altered Carbon.jpg" alt="">
  <h3>Altered Carbon</h3>
  <small>Richard K. Morgan</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A hardboiled cyberpunk noir where consciousness can be transferred between bodies. Brutal, fast-paced, and unforgettable.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Blame!">
  <img src="Blame!.jpg" alt="">
  <h3>Blame!</h3>
  <small>Tsutomu Nihei</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A dark manga epic set in an endless megastructure where humans fight for survival. Sparse dialogue, towering visuals, and pure atmosphere.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Burning Chrome">
  <img src="Burning Chrome.png" alt="">
  <h3>Burning Chrome</h3>
  <small>William Gibson</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A short story collection that cemented Gibson as cyberpunk’s voice. Includes the iconic title story and the first appearance of the word “cyberspace.”
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Count Zero">
  <img src="Count Zero.jpg" alt="">
  <h3>Count Zero</h3>
  <small>William Gibson</small>
  <div class="card-overlay">
    <div class="overlay-content">
      The second book in the Sprawl trilogy, weaving corporate intrigue and voodoo-like AI entities. Less famous than <i>Neuromancer</i> but equally sharp.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Mirrorshades">
  <img src="Mirrorshades.jpg" alt="">
  <h3>Mirrorshades</h3>
  <small>Edited by Bruce Sterling</small>
  <div class="card-overlay">
    <div class="overlay-content">
      An anthology that defined the cyberpunk movement.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Neuromancer">
  <img src="Neuromancer.jpg" alt="">
  <h3>Neuromancer</h3>
  <small>William Gibson</small>
  <div class="card-overlay">
    <div class="overlay-content">
      If you're here and you haven't read this yet, why? This is the one. Don't overthink it.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Schismatrix Plus">
  <img src="Schismatrix Plus.jpg" alt="">
  <h3>Schismatrix Plus</h3>
  <small>Bruce Sterling</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A sweeping vision of posthuman evolution and political conflict in space. Sterling’s definitive statement on cyberpunk’s reach beyond Earth.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Synners">
  <img src="Synners.jpg" alt="">
  <h3>Synners</h3>
  <small>Pat Cadigan</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A prescient look at digital identity and networked consciousness.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

<div class="story-card" data-category="books" tabindex="0" aria-label="Open details for Titanium Noir">
  <img src="Titanium Noir.jpg" alt="">
  <h3>Titanium Noir</h3>
  <small>Nick Harkaway</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A slick blend of futuristic biotech and classic detective noir. A murder mystery where genetic elites loom over the shadows of society.
      <br><br>
      <i>Please don't buy this on Amazon. Instead, find a local bookstore with a good sci-fi section.</i>
    </div>
  </div>
</div>

      <!-- Film and TV -->
<div class="story-card" data-category="film" tabindex="0" aria-label="Open details for Blade Runner 2049">
  <img src="BR 2049.jpg" alt="">
  <h3>Blade Runner 2049</h3>
  <small>Denis Villeneuve</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A stunning sequel that expands on the original’s questions of humanity, memory, and freedom. Visually breathtaking and haunting in tone.
    </div>
  </div>
</div>

<div class="story-card" data-category="film" tabindex="0" aria-label="Open details for Cyberpunk Edgerunners">
  <img src="CP Edgerunners.jpg" alt="">
  <h3>Cyberpunk Edgerunners</h3>
  <small>Studio Trigger / CD Projekt</small>
  <div class="card-overlay">
    <div class="overlay-content">
      An anime spinoff of Cyberpunk 2077 with heart and style.
    </div>
  </div>
</div>

<div class="story-card" data-category="film" tabindex="0" aria-label="Open details for Ghost in the Shell (1995 film)">
  <img src="Ghost in the Shell.jpg" alt="">
  <h3>Ghost in the Shell (1995 film)</h3>
  <small>Mamoru Oshii</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A philosophical dive into cybernetic identity.
    </div>
  </div>
</div>

<div class="story-card" data-category="film" tabindex="0" aria-label="Open details for Ghost in the Shell: Stand Alone Complex">
  <img src="Ghost in the Shell SAC.png" alt="">
  <h3>Ghost in the Shell: Stand Alone Complex</h3>
  <small>Kenji Kamiyama / Production I.G.</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A landmark cyberpunk anime series blending action, politics, and deep dives into consciousness. Major Kusanagi leads Section 9 through tangled webs of tech and power.
    </div>
  </div>
</div>

<div class="story-card" data-category="film" tabindex="0" aria-label="Open details for PLUTO">
  <img src="PLUTO.jpg" alt="">
  <h3>PLUTO</h3>
  <small>Naoki Urasawa / Netflix</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A noir robot drama reimagining Astro Boy's greatest story arc.
    </div>
  </div>
</div>

<!-- Other -->
<div class="story-card" data-category="other" tabindex="0" aria-label="Open details for Neon_Rising">
  <img src="Neon Rising.png" alt="">
  <h3>Neon_Rising</h3>
  <small>The_Future_is_Now</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A cyberpunk narrative art book blending visuals and lore.
    </div>
  </div>
</div>

<div class="story-card" data-category="other" tabindex="0" aria-label="Open details for TO:KY:OO">
  <img src="Tokyo.png" alt="">
  <h3>TO:KY:OO</h3>
  <small>Liam Wong</small>
  <div class="card-overlay">
    <div class="overlay-content">
      A photographic journey through neon-soaked Tokyo nights. Wong’s work captures real-world cyberpunk energy in stunning, cinematic frames.
    </div>
  </div>
</div>
  </section>

  <!-- Modal (reused for all cards) -->
  <div class="modal-backdrop" id="modal-backdrop" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document" tabindex="-1" id="modal">
      <div class="modal-media">
        <img src="" alt="" id="modal-img">
        <button class="modal-close" id="modal-close" aria-label="Close">×</button>
      </div>
      <div class="modal-header">
        <h2 class="modal-title" id="modal-title"></h2>
      </div>
      <p class="modal-byline" id="modal-byline"></p>
      <div class="modal-body" id="modal-body"></div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <img src="Flame logo-1.png.png" alt="Burnline Logo" class="footer-logo">
        <p>Get issue updates from Burnline straight to your inbox. No spam or anything, I promise.</p>
        <form style="margin-top: 1rem;">
          <input type="email" placeholder="Email Address" class="newsletter-input"><br>
          <button type="submit" class="newsletter-button">Subscribe</button>
        </form>
      </div>
      <div class="footer-column">
        <h4>Get In Touch</h4>
        <p>contact@burnlinemag.com<br><span style="font-size: 0.8rem;"></span></p>
      </div>
      <div class="footer-column">
        <h4>Read</h4>
        <p><a href="https://bowliopia.github.io/burnline/fiction.html">Issue Library</a></p>
        <p><a href="https://bowliopia.github.io/burnline/stories.html">Featured Stories</a></p>
        <p><a href="https://bowliopia.github.io/burnline/staffpicks.html">Staff Picks</a></p>
      </div>
    </div>
    <div class="footer-bottom">
      &copy; 2025 Burnline Magazine — All rights reserved
    </div>
  </footer>

  <script>
    // Mobile nav (toggle .active on #site-nav)
    const hamburger = document.getElementById('hamburger');
    const nav = document.getElementById('site-nav');
    hamburger.addEventListener('click', () => {
      const isActive = nav.classList.toggle('active');
      hamburger.setAttribute('aria-expanded', isActive ? 'true' : 'false');
    });
    nav.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => {
        if (nav.classList.contains('active')) {
          nav.classList.remove('active');
          hamburger.setAttribute('aria-expanded', 'false');
        }
      });
    });

    // Cards reference
    const cards = Array.from(document.querySelectorAll('.story-card'));

    // Tabs logic + filtering + hash support
    (function () {
      const tabs = Array.from(document.querySelectorAll('.tab'));
      const panel = document.getElementById('panel-grid');

      function setSelected(tabEl, pushHash = true) {
        // Update aria-selected and panel label
        tabs.forEach(t => t.setAttribute('aria-selected', t === tabEl ? 'true' : 'false'));
        panel.setAttribute('aria-labelledby', tabEl.id);

        // Filter cards
        const category = tabEl.getAttribute('data-filter');
        cards.forEach(card => {
          const isActive = card.getAttribute('data-category') === category;
          card.classList.toggle('active', isActive);
        });

        // Hash
        if (pushHash) {
          const hash = '#' + (tabEl.id.replace('tab-','')); // books, games, film, other
          if (history.replaceState) {
            history.replaceState(null, '', hash);
          } else {
            location.hash = hash;
          }
        }
      }

      // Click + keyboard
      tabs.forEach((t, i) => {
        t.addEventListener('click', () => setSelected(t, true));
        t.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
            e.preventDefault();
            const next = e.key === 'ArrowRight'
              ? tabs[(i + 1) % tabs.length]
              : tabs[(i - 1 + tabs.length) % tabs.length];
            next.focus();
          }
        });
      });

      // Initial from hash
      const hash = (location.hash || '#books').toLowerCase().replace('#','');
      const initialTab = document.getElementById('tab-' + (['books','games','film','other'].includes(hash) ? hash : 'books'));
      setSelected(initialTab, false);

      // Hash changes
      window.addEventListener('hashchange', () => {
        const h = (location.hash || '#books').toLowerCase().replace('#','');
        const hTab = document.getElementById('tab-' + (['books','games','film','other'].includes(h) ? h : 'books'));
        if (hTab) setSelected(hTab, false);
      });
    })();

    // Modal logic
    const backdrop = document.getElementById('modal-backdrop');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const modalTitle = document.getElementById('modal-title');
    const modalByline = document.getElementById('modal-byline');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');
    let lastFocusedEl = null;

    function openModalFromCard(card){
      lastFocusedEl = document.activeElement;
      const img = card.querySelector('img');
      const title = card.querySelector('h3')?.textContent?.trim() || '';
      const byline = card.querySelector('small')?.textContent?.trim() || '';
      const overlayHTML = card.querySelector('.overlay-content')?.innerHTML || '';
      const isBook = card.getAttribute('data-category') === 'books';

      modalImg.src = img ? (img.getAttribute('src') || '') : '';
      modalImg.alt = img ? (img.getAttribute('alt') || '') : '';
      modalTitle.textContent = title;
      modalByline.textContent = byline;
      modalBody.innerHTML = overlayHTML;
      modal.classList.toggle('modal--book', isBook);

      document.body.classList.add('modal-open');
      backdrop.classList.add('show');
      backdrop.setAttribute('aria-hidden','false');
      modal.focus();
    }

    function closeModal(){
      backdrop.classList.remove('show');
      backdrop.setAttribute('aria-hidden','true');
      document.body.classList.remove('modal-open');
      if(lastFocusedEl && typeof lastFocusedEl.focus === 'function'){ lastFocusedEl.focus(); }
    }

    // Open modal on card click or Enter/Space
    cards.forEach(card => {
      card.addEventListener('click', () => openModalFromCard(card));
      card.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          openModalFromCard(card);
        }
      });
    });

    // Close handlers
    modalClose.addEventListener('click', closeModal);
    backdrop.addEventListener('click', (e) => { if(e.target === backdrop){ closeModal(); } });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && backdrop.classList.contains('show')){ closeModal(); }
    });
  </script>
</body>
</html>
